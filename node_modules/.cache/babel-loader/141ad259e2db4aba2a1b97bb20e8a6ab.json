{"ast":null,"code":"\"use strict\"; // https://w3c.github.io/html-aria/#document-conformance-requirements-for-use-of-aria-attributes-in-html\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction getRole(element) {\n  const explicitRole = getExplicitRole(element);\n\n  if (explicitRole !== null) {\n    return explicitRole;\n  }\n\n  return getImplicitRole(element);\n}\n\nexports.default = getRole;\nconst tagToRoleMappings = {\n  ARTICLE: \"article\",\n  ASIDE: \"complementary\",\n  BODY: \"document\",\n  BUTTON: \"button\",\n  DATALIST: \"listbox\",\n  DD: \"definition\",\n  DETAILS: \"group\",\n  DIALOG: \"dialog\",\n  DT: \"term\",\n  FIELDSET: \"group\",\n  FIGURE: \"figure\",\n  // WARNING: Only with an accessible name\n  FORM: \"form\",\n  FOOTER: \"contentinfo\",\n  H1: \"heading\",\n  H2: \"heading\",\n  H3: \"heading\",\n  H4: \"heading\",\n  H5: \"heading\",\n  H6: \"heading\",\n  HEADER: \"banner\",\n  HR: \"separator\",\n  LEGEND: \"legend\",\n  LI: \"listitem\",\n  MATH: \"math\",\n  MAIN: \"main\",\n  MENU: \"list\",\n  NAV: \"navigation\",\n  OL: \"list\",\n  OPTGROUP: \"group\",\n  // WARNING: Only in certain context\n  OPTION: \"option\",\n  OUTPUT: \"status\",\n  PROGRESS: \"progressbar\",\n  // WARNING: Only with an accessible name\n  SECTION: \"region\",\n  SUMMARY: \"button\",\n  TABLE: \"table\",\n  TBODY: \"rowgroup\",\n  TEXTAREA: \"textbox\",\n  TFOOT: \"rowgroup\",\n  // WARNING: Only in certain context\n  TD: \"cell\",\n  TH: \"columnheader\",\n  THEAD: \"rowgroup\",\n  TR: \"row\",\n  UL: \"list\"\n};\n\nfunction getImplicitRole(element) {\n  const mappedByTag = tagToRoleMappings[element.tagName];\n\n  if (mappedByTag !== undefined) {\n    return mappedByTag;\n  }\n\n  switch (element.tagName) {\n    case \"A\":\n    case \"AREA\":\n    case \"LINK\":\n      if (element.hasAttribute(\"href\")) {\n        return \"link\";\n      }\n\n      break;\n\n    case \"IMG\":\n      if ((element.getAttribute(\"alt\") || \"\").length > 0) {\n        return \"img\";\n      }\n\n      break;\n\n    case \"INPUT\":\n      {\n        const {\n          type\n        } = element;\n\n        switch (type) {\n          case \"button\":\n          case \"image\":\n          case \"reset\":\n          case \"submit\":\n            return \"button\";\n\n          case \"checkbox\":\n          case \"radio\":\n            return type;\n\n          case \"range\":\n            return \"slider\";\n\n          case \"email\":\n          case \"tel\":\n          case \"text\":\n          case \"url\":\n            if (element.hasAttribute(\"list\")) {\n              return \"combobox\";\n            }\n\n            return \"textbox\";\n\n          case \"search\":\n            if (element.hasAttribute(\"list\")) {\n              return \"combobox\";\n            }\n\n            return \"searchbox\";\n\n          default:\n            return null;\n        }\n      }\n\n    case \"SELECT\":\n      if (element.hasAttribute(\"multiple\") || element.size > 1) {\n        return \"listbox\";\n      }\n\n      return \"combobox\";\n  }\n\n  return null;\n}\n\nfunction getExplicitRole(element) {\n  if (element.hasAttribute(\"role\")) {\n    // safe due to hasAttribute check\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const [explicitRole] = element.getAttribute(\"role\").trim().split(\" \");\n\n    if (explicitRole !== undefined && explicitRole.length > 0) {\n      return explicitRole;\n    }\n  }\n\n  return null;\n}","map":{"version":3,"mappings":"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","names":["getRole","element","explicitRole","getExplicitRole","getImplicitRole","exports","tagToRoleMappings","ARTICLE","ASIDE","BODY","BUTTON","DATALIST","DD","DETAILS","DIALOG","DT","FIELDSET","FIGURE","FORM","FOOTER","H1","H2","H3","H4","H5","H6","HEADER","HR","LEGEND","LI","MATH","MAIN","MENU","NAV","OL","OPTGROUP","OPTION","OUTPUT","PROGRESS","SECTION","SUMMARY","TABLE","TBODY","TEXTAREA","TFOOT","TD","TH","THEAD","TR","UL","mappedByTag","tagName","undefined","hasAttribute","getAttribute","length","type","size","trim","split"],"sources":["../sources/getRole.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}